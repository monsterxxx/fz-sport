<a class="btn btn-block btn-default" href="" ng-click="vm.showBox=true">
  <i class="fa fa-user-plus"></i>
  Добавить
</a>
<div class="box box-internal" ng-if="vm.showBox">
  <div class="box-header with-border">
    <h3 class="box-title">Добавить запись</h3>
    <div class="box-tools pull-right">
      <button class="btn btn-box-tool" ng-click="vm.showBox=false; vm.newPerson.email=''">
        <i class="fa fa-times"></i>
      </button>
    </div>
  </div>
  <div class="box-body">
    <!-- <div class="form-group" ng-if="::vm.nonUsers">
      <div class="radio">
        <label>
          <input type="radio" ng-model="vm.addAs" name="optionsRadios" value="common" checked="">
          Добавить обычную запись
          <i class="fa fa-info-circle" data-toggle="tooltip" data-original-title="Найти или добавить новую запись о человеке. Такая запись в компании управляется другими пользователями. Позже её можно привязать к пользователю fz-Sport."></i>
        </label>
      </div>
      <div class="radio">
        <label>
          <input type="radio" ng-model="vm.addAs" name="optionsRadios" value="user">
          Добавить пользователя fz-Sport
        </label>
      </div>
    </div> -->
    <div>
      <label for="email">Email</label>
      <input type="email" class="form-control" ng-model="vm.newPerson.email" ng-model-options="{ debounce: 300 }"
        ng-change="vm.emailChanged()" name="email" placeholder="Введите email пользователя">
    </div>
    <h2 ng-show="vm.foundUsers.length" class="title-for-footer">Выберите для добавления</h2>
  </div>
  <div class="box-footer no-padding">
    <ul class="nav nav-pills nav-stacked">
      <li ng-repeat="user in vm.foundUsers">
        <a ng-click="vm.add({userId:user._id}); vm.newPerson.email=''; vm.showBox=false" href="#">{{user.profile.fname}}</a>
      </li>
    </ul>
  </div>
</div>
